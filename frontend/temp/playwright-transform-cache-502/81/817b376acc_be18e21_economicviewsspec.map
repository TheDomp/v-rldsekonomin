{"version":3,"names":["test","expect","describe","beforeEach","page","goto","getByText","toBeVisible","getByRole","name","exact","first","usaCard","locator","filter","hasText","growthValue","countryCards","timeout","liquidityText","progressBar","firstCard","countryName","textContent","click","detailView","toContainText","closeButton","not"],"sources":["economic-views.spec.ts"],"sourcesContent":["import { test, expect } from '@playwright/test';\n\ntest.describe('Economic Views', () => {\n    test.beforeEach(async ({ page }) => {\n        // Go to the home page before each test\n        await page.goto('/');\n    });\n\n    test('PowerhouseView renders correctly', async ({ page }) => {\n        // Check for the \"Ekonomiska Stormakter\" header\n        await expect(page.getByText('Ekonomiska Stormakter')).toBeVisible();\n\n        // Check for the 4 powerhouse cards\n        await expect(page.getByText('USA')).toBeVisible();\n        await expect(page.getByText('Kina')).toBeVisible();\n        await expect(page.getByRole('heading', { name: 'EU', exact: true })).toBeVisible();\n        await expect(page.getByText('Ryssland')).toBeVisible();\n\n        // Check for metrics labels (Growth, Inflation, Debt)\n        // We check if \"Tillv채xt\" appears at least once\n        await expect(page.getByText('Tillv채xt').first()).toBeVisible();\n        await expect(page.getByText('Inflation').first()).toBeVisible();\n        await expect(page.getByText('Statsskuld').first()).toBeVisible();\n    });\n\n    test('PowerhouseView handles data loading', async ({ page }) => {\n        // We might see \"H채mtar...\" initially, or data if it loads fast.\n        // This test is a bit flaky if we don't mock, but let's check for eventual data or loading state.\n        // We can check that at least one card eventually shows a health index or \"Data Saknas\"\n\n        // Evaluate if we can find a status indicator (e.g. /100 or Data Saknas)\n        // The status is in a span with class containing 'rounded-full'\n        // Let's just wait for the \"Tillv채xt\" value to be populated or \"Saknas\"\n\n        // Ideally we would mock the API response here for deterministic testing.\n        // For now, we just ensure the view validates existence of key elements.\n\n        const usaCard = page.locator('div').filter({ hasText: 'USA' }).first();\n        await expect(usaCard).toBeVisible();\n\n        // Check that we eventually see some data or the \"Saknas\" text\n        // The growth value is formatted as \"X.X%\" or \"Saknas\"\n        const growthValue = usaCard.locator('.font-mono').first();\n        await expect(growthValue).toBeVisible();\n    });\n\n    test('FiscalRunway renders correctly', async ({ page }) => {\n        // Wait for data to load (spinner should disappear)\n        // Wait for country cards to appear (handles loading state)\n        // Check for specific text to ensure we are looking at the right thing\n        const countryCards = page.locator('.group.relative.overflow-hidden');\n        await expect(countryCards.first()).toBeVisible({ timeout: 30000 });\n\n        // Now check for FiscalRunway text \"Likviditetsreserv\" within a card\n        const liquidityText = countryCards.first().locator('text=Likviditetsreserv');\n        await expect(liquidityText).toBeVisible();\n\n        // Check if the progress bar exists\n        const progressBar = countryCards.first().locator('.h-2.w-full.bg-slate-700');\n        await expect(progressBar).toBeVisible();\n    });\n\n    test('DetailView opens on card click', async ({ page }) => {\n        // Wait for cards\n        const countryCards = page.locator('.group.relative.overflow-hidden');\n        await expect(countryCards.first()).toBeVisible({ timeout: 30000 });\n\n        // Get the name of the first country to verify later\n        const firstCard = countryCards.first();\n        const countryName = await firstCard.locator('h2').textContent();\n\n        // Click the card\n        await firstCard.click();\n\n        // Check that DetailView overlay appears\n        // It usually has a close button or specific modal class.\n        // Looking at App.tsx, DetailView is rendered when selectedCountry is not null.\n        // Let's look for the country name in a dialog/modal context.\n\n        // We can assume the DetailView shows the country name prominently inside a fixed overlay\n        const detailView = page.locator('.fixed.inset-0.z-50');\n        await expect(detailView).toBeVisible();\n\n        if (countryName) {\n            await expect(detailView).toContainText(countryName);\n        }\n\n        // Close the view\n        const closeButton = detailView.locator('button').first(); // Usually the first button is close or verify by icon\n        await closeButton.click();\n\n        await expect(detailView).not.toBeVisible();\n    });\n});\n"],"mappings":"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","ignoreList":[]}